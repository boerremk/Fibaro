{"name":"Evohome 2.0 - DHW","type":"virtual_device","properties":{"deviceIcon":1163,"categories":"[\"other\"]","currentIcon":"1163","log":"","logTemp":"","mainLoop":"","ui.lblError.value":"","ui.lblMode.value":"","ui.lblStatus.value":"","ui.lblTempCurrent.value":"","visible":"true","rows":[{"type":"label","elements":[{"id":1,"lua":false,"waitForResponse":false,"caption":"Current","name":"lblTempCurrent","favourite":false,"main":false}]},{"type":"button","elements":[{"id":2,"lua":true,"waitForResponse":false,"caption":"On","name":"btnOn","empty":false,"msg":"local zoneID = \"\";\nlocal selfId = fibaro:getSelfId();\nlocal locationID = fibaro:get(selfId, 'IPAddress');\nlocal sceneID = fibaro:get(selfId, 'TCPPort');\nlocal icon = fibaro:get(selfId, \"deviceIcon\");\nfibaro:call(selfId, \"setProperty\", \"currentIcon\", icon)\n--fibaro:setGlobal(\"EvohomeAPI\", \"dhw,DHWOn,\"..locationID..\",,,\")\nfibaro:sleep(2000)\nfibaro:startScene(sceneID, {\"dhw,DHWOn,\",\"\",locationID,\"\",\"\",\"\"})\n--fibaro:startScene(sceneID)\n","buttonIcon":0,"favourite":false,"main":true},{"id":3,"lua":true,"waitForResponse":false,"caption":"Off","name":"btnOff","empty":false,"msg":"local zoneID = \"\";\nlocal selfId = fibaro:getSelfId();\nlocal locationID = fibaro:get(selfId, 'IPAddress');\nlocal sceneID = fibaro:get(selfId, 'TCPPort');\nlocal icon = fibaro:get(selfId, \"deviceIcon\");\nfibaro:call(selfId, \"setProperty\", \"currentIcon\", icon)\n--fibaro:setGlobal(\"EvohomeAPI\", \"dhw,DHWOff,\"..locationID..\",,,\")\nfibaro:sleep(2000)\n--fibaro:startScene(sceneID)\nfibaro:startScene(sceneID, {\"dhw,DHWOff,\",\"\",locationID,\"\",\"\",\"\"})\n","buttonIcon":0,"favourite":false,"main":false},{"id":4,"lua":true,"waitForResponse":false,"caption":"Auto","name":"btnAuto","empty":false,"msg":"local zoneID = \"\";\nlocal selfId = fibaro:getSelfId();\nlocal locationID = fibaro:get(selfId, 'IPAddress');\nlocal sceneID = fibaro:get(selfId, 'TCPPort');\nlocal icon = fibaro:get(selfId, \"deviceIcon\");\nfibaro:call(selfId, \"setProperty\", \"currentIcon\", icon)\n--fibaro:setGlobal(\"EvohomeAPI\", \"dhw,None,\"..locationID..\",,,\")\nfibaro:sleep(2000)\n--fibaro:startScene(sceneID)\nfibaro:startScene(sceneID, {\"dhw,None,\",\"\",locationID,\"\",\"\",\"\"})\n","buttonIcon":0,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":5,"lua":false,"waitForResponse":false,"caption":"Status","name":"lblStatus","favourite":false,"main":false}]},{"type":"label","elements":[{"id":6,"lua":false,"waitForResponse":false,"caption":"Mode","name":"lblMode","favourite":false,"main":false}]},{"type":"label","elements":[{"id":7,"lua":false,"waitForResponse":false,"caption":"","name":"lblError","favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}